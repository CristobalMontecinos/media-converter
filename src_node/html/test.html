<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Media Converter - Demo</title>
  <link rel="stylesheet" href="/style.css" />
  <script src="/scripts/console.js"></script>
  <script src="/scripts/test.js"></script>
</head>

<body>
  <main class="container">
    <div id="button_container">
      <button class="secondary" type="button" id="buttonInit">Init</button>
      <button class="primary hidden" type="button" id="buttonStart">Start</button>
      <button class="danger hidden" type="button" id="buttonStop" disabled>Stop</button>
    </div>
    <div id="video_preview">
      <video autoplay muted playsinline id="videoLive"></video>
      <div class="time_display">
        <span id="timeDisplay">00:00</span>
      </div>
    </div>
    <div id="video_output">
      <video controls playsinline id="videoRecorded"></video>
      <a id="downloadLink" download="" href="">Download</a>
    </div>
    <code id="console_log"></code>
  </main>
  <div class="loader" id="loader">
    <div class="loader__spinner"></div>
  </div>
  <script type="text/javascript">
    function init () {
      console.log('init')
      main()
    }
    document.addEventListener('DOMContentLoaded', () => {
      getDevices()
      const initBtn = document.querySelector('#buttonInit')
      if (initBtn) initBtn.addEventListener('click', init)
    })
  </script>
</body>

</html>